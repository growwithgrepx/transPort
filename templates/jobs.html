{% extends 'base.html' %}
{% block title %}Jobs - Admin Portal{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2 class="fw-bold mb-0"><i class="bi bi-briefcase-fill me-2"></i>Manage Jobs</h2>
  <div>
    <a href="{{ url_for('add_job') }}" class="btn btn-success me-2"><i class="bi bi-plus-circle me-1"></i>Create Job</a>
    <a href="{{ url_for('smart_add_job') }}" class="btn btn-info"><i class="bi bi-lightning-charge me-1"></i>Smart Add</a>
  </div>
</div>
<div class="card shadow-sm mb-4">
  <div class="card-body p-3">
    <form class="row g-2 align-items-center" method="get" action="{{ url_for('jobs_table') }}" hx-get="{{ url_for('jobs_table') }}" hx-target="#jobs-table" hx-push-url="true">
      <div class="col-md-4">
        <input class="form-control" type="search" name="search" placeholder="Quick search..." value="{{ search_query }}">
      </div>
      <div class="col-auto">
        <button class="btn btn-outline-primary" type="submit"><i class="bi bi-search"></i> Search</button>
      </div>
      <!-- <div class="col-auto">
        <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#advancedSearchModal"><i class="bi bi-funnel"></i> Advanced Search</button>
      </div> -->
    </form>
  </div>
</div>
{#
<!-- Advanced Search Modal -->
<div class="modal fade" id="advancedSearchModal" tabindex="-1" aria-labelledby="advancedSearchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <form method="get" action="{{ url_for('jobs_table') }}" hx-get="{{ url_for('jobs_table') }}" hx-target="#jobs-table" hx-push-url="true">
        <div class="modal-header">
          <h5 class="modal-title" id="advancedSearchModalLabel">Advanced Search</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="row g-3">
            <div class="col-md-4"><input type="text" class="form-control" name="customer_name" placeholder="Customer Name"></div>
            <div class="col-md-4"><input type="email" class="form-control" name="customer_email" placeholder="Customer Email"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="customer_mobile" placeholder="Customer Mobile"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="customer_reference" placeholder="Customer Reference"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="passenger_name" placeholder="Passenger Name"></div>
            <div class="col-md-4"><input type="email" class="form-control" name="passenger_email" placeholder="Passenger Email"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="passenger_mobile" placeholder="Passenger Mobile"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="type_of_service" placeholder="Type of Service"></div>
            <div class="col-md-4"><input type="date" class="form-control" name="pickup_date" placeholder="Date"></div>
            <div class="col-md-4"><input type="time" class="form-control" name="pickup_time" placeholder="Time of Pick Up"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="pickup_location" placeholder="Pick-up Location"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="dropoff_location" placeholder="Drop-Off Location"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="vehicle_type" placeholder="Vehicle Type"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="vehicle_number" placeholder="Vehicle Number"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="driver_contact" placeholder="Driver Contact"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="payment_mode" placeholder="Payment Mode"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="payment_status" placeholder="Payment Status"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="order_status" placeholder="Order Status"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="message" placeholder="Message"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="remarks" placeholder="Remarks"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="reference" placeholder="Reference"></div>
            <div class="col-md-4"><input type="text" class="form-control" name="status" placeholder="Status"></div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Search</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </form>
    </div>
  </div>
</div>
#}
<div id="jobs-table" hx-target="this">
  {% include 'jobs_table.html' %}
</div>
<div id="jobs-error" class="mt-2"></div>
{% endblock %} 